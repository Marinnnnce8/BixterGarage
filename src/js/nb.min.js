if("undefined"==typeof UIkit)throw new Error("NB requires UIkit. UIkit must be included before this script.");!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("nb",e):(t=t||self).NB=e()}(this,function(){"use strict";var t=UIkit.util,e="Promise"in window?window.Promise:t.Promise,n="localStorage"in window&&"sessionStorage"in window;Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})});var i={settings:{}},s=!0;function r(){return o(arguments)}function a(){return o(arguments,!0)}function o(e,n){for(var i,s,r=document,a=".",o=[".","#","[data]"],l=0;l<e.length;l++){var c=e[l];if(t.isString(c))if(-1!==o.indexOf(c))a=c;else{i=c;for(var u=0;u<o.length;u++){var h=o[u];t.startsWith(i,h)&&(i=i.replace(h,""),a=h)}}else t.isNode(c)&&(r=c)}switch(a){case"[data]":s="[data-"+i+"]";break;default:s=a+i}return t[n?"$$":"$"](s,r)}function l(n,i){if(C("nb.ajax"),n||(n=[location.protocol,"//",location.host,location.pathname].join("")+"?ajax=1"),void 0!==i&&t.isPlainObject(i)||(i={}),t.includes(n,"#")){var s=n.split("#"),r=s[1].split("?");n=s[0]+(r.length>1?"?"+r[1]:"")+"#"+r[0]}return i=t.assign({headers:{"X-Requested-With":"XMLHttpRequest"},method:"GET",responseType:"json"},i),new e(function(e,s){t.ajax(n,i).then(function(t){var n=v(t);A("nb.ajax"),n.status?e(n):s(n)},function(t){A("nb.ajax"),s(v(t.xhr,t.status,t))})})}function c(){for(var e={},n="",i=!1,s=0;s<arguments.length;s++){var r=arguments[s];if(t.isBoolean(r))i=r;else if(t.isString(r)&&r)n=r;else if(t.isArray(r)&&r.length){"class"in e||(e.class=[]),t.isArray(e.class)||(e.class=[e.class]);for(var a=0;a<r.length;a++)e.class.push(r[a]);n="div"}else t.isPlainObject(r)&&(e=t.assign(e,r))}var o=[];for(var l in e)if(t.hasOwn(e,l)){var c=e[l];switch(l){case"element":case"nodeName":case"tag":n||(n=c);break;case"close":i=t.toBoolean(c);break;default:!1!==c&&(l&&(l=t.hyphenate(l)),""==c||t.isBoolean(c)?o.push(l):(c=u(c),o.push(l?l+"='"+c+"'":c)))}}return o=(o=o.join(" "))?" "+o:"",n&&(n=n.replace(/<|>|\//gi,"")),n?"<"+n+o+">"+(i?"</"+n+">":""):o}function u(e){return t.isArray(e)?e=e.join(" "):t.isPlainObject(e)&&(e=JSON.stringify(e)),e}function h(t,e){try{t=f(t=atob(t),e)}catch(e){t=""}return t}function d(e,s){if(void 0===e)return i.settings;if(t.isBoolean(e))for(var e in s=e,i.settings)d(e,s||i.settings[e]);else{if(!(e in i.settings))return null;t.isFunction(s)?(e in J.data.callbacks||(J.data.callbacks[e]=[]),J.data.callbacks[e].push(s)):t.isUndefined(s)||(t.isNumeric(s)&&(s=parseInt(s)),t.isString(s)&&(s="yes"==s.toLowerCase()?1:0),t.isBoolean(s)&&(s=s?1:0),i.settings[e]=s,n&&localStorage.setItem("nbCookie",JSON.stringify(i.settings)))}return i.settings[e]}function f(e,n,i){if(t.isPlainObject(e))return e;var s;if(t.isNode(e)&&(s=e,e=n?t.data(s,n):""),i)return s&&["","data-"].forEach(function(e){var i=e+n;t.hasAttr(s,i)&&t.removeAttr(s,i)}),e?h(e):{};try{e=JSON.parse(e)}catch(i){n&&t.includes(e,n)&&(e=e.split(n))}return e}function p(t,e){if(2==(t.match(/\//g)||[]).length){var n=t.split("/"),i=n[2].split(" ");if(i.length)return n[2]=i[0],t=[n[e?1:2],n[e?2:1],n[0]].join("-"),2==i.length&&(t=[t,i[1]].join("T")),Date.parse(t)?t:""}return""}function g(e,n){var i=e.previousElementSibling;if(!t.isString(n))return i;for(;i;){if(i.matches(n))return i;i=i.previousElementSibling}}function v(e,n,i){void 0!==n&&t.isNumber(n)||(t.isString(n)&&(i=n),n=500),e.status&&(n=e.status),void 0===i&&(i=null);var s=e.response;if(!t.isPlainObject(s))try{s=JSON.parse(s)}catch(t){i||(i=s)}return t.isPlainObject(s)?"errors"in s?(s=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].message);return e}(s.errors),n<400&&(n=0)):"data"in s&&(s=s.data):(s=i,n=500),{status:parseInt(n),response:s}}function b(e,n){var i={query:e};return t.isPlainObject(n)&&(i.variables=n),l(R.options.graphql,{data:JSON.stringify(i),headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"POST"})}function m(e,n,i){t.isString(n)&&(n={alt:n}),void 0===n&&(n={}),void 0===i&&(i={});var s="img"===(i=t.assign({focus:!1,tag:"img",ukImg:!0,src:"url"},i)).tag,r={left:50,top:50},a=!1,o=!1;if(t.isPlainObject(e)&&(e.focus&&t.isPlainObject(e.focus)&&(r=t.assign(r,e.focus)),e.srcset&&(a=e.srcset),e.sizes&&e.srcset&&(o=e.sizes),e=e[i.src]),n=t.assign({alt:"",width:0,height:0},n),!e)return"";var l=e.match(/(\.\d*x\d*\.)/g);if(s&&l){var u=l[0].split("x");n.width||(n.width=t.toNumber(u[0].replace(".",""))),n.height||(n.height=t.toNumber(u[1].replace(".","")))}if(!s&&i.focus){var h=n.style?n.style.split(";"):[];h.push("background-position:"+r.left+"% "+r.top+"%"),n.style=h.join(";")}if(0!=n.width&&s||(n.width=!1),0!=n.height&&s||(n.height=!1),s||(n.alt=!1),!a&&"sizes"in n&&delete n.sizes,i.ukImg){var d={src:!!s&&"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",dataSrc:e,dataSrcset:a,dataUkImg:i.ukImg};o&&a&&(d.dataSizes=o),n=t.assign(d,n)}else s?(n.src=e,n.srcset=a,a&&(n.sizes=o)):n.style="background-image:url("+e+");"+(n.style?n.style:"");return c(n,i.tag)}function k(t){return/<[a-z][\s\S]*>/i.test(t)}function $(e,n,i){void 0===n&&(n=""),void 0===i&&(i={});var s=!1;return t.isBoolean(i)?(s=i,i={}):t.isPlainObject(i)||(i={class:i}),t.isPlainObject(e)&&("href"in e?e=(i=e).href:"url"in i?(n=e[n||"title"],e=e.url):(i=e,e="#")),null==n?n=e:t.isPlainObject(n)?(i=n,n=""):t.isBoolean(n)&&(s=n,n=""),t.includes(e,"://")&&(s=!0),i.href=e,"target"in i||(i.target=!!s&&"_blank"),"rel"in i||(i.rel=!!s&&"noopener"),P(n,i,"a")}function y(n,i,s){var r="nb.loadS"+("script"==n?"cript":"tyle");return C(r),new e(function(e){var a=document.createElement(n);for(var o in i){var l=i[o];"element"==o?s=l:a[o]=l}a.onload=function(){A(r),e()},t.append(s,a)})}function w(e){return y("script",t.isPlainObject(e)?e:{src:e,async:!0},arguments.length>1?arguments[1]:"body")}function S(e){var n=t.isPlainObject(e)?e:{href:e};return n.rel="stylesheet",y("link",n,arguments.length>1?arguments[1]:"head")}function j(t){return k(t)?t:("<"==t.substr(0,1)?"":"<")+t+(">"==t.substr(t.length-1,1)?"":">")}function C(t){return"profiler"in window?profiler.start(t):null}function A(t){return"profiler"in window?profiler.stop(t):0}function O(t,e){return void 0===e&&(e="."),/.*[.,\/!?\^&\*;:{}=]$/.test(t)||(t+=e),t}function E(e,n){void 0!==e&&void 0!==n&&e in R.options&&(t.isPlainObject(R.options[e])&&t.isPlainObject(n)?R.options[e]=t.assign({},R.options[e],n):R.options[e]=n)}function N(e){if(void 0!==e){t.isArray(e)&&(e=e.join("<br>"));for(var n="primary",i={},s=!1,r={class:["uk-alert"]},a=1;a<arguments.length;a++){var o=arguments[a];if(t.isBoolean(o))s=o;else if(t.isNumeric(o))o=t.toNumber(o),1==a?n=o<100||o>=400?"danger":"success":i.duration=o;else if(t.isString(o))n=o;else if(t.isArray(o))for(var l=0;l<o.length;l++)r.class.push(o[l]);else if(t.isPlainObject(o))if("animation"in o)i=t.assign(i,o);else{if("class"in o){t.isArray(o.class)||(o.class=o.class.split(" "));for(l=0;l<o.class.length;l++)r.class.push(o.class[l]);delete o.class}r=t.assign(r,o)}}return"danger"==n&&(r.role="alert"),r.class.push("uk-alert-"+n),r.dataUkAlert=!s&&!Object.keys(i).length||t.assign({},R.options.ukAlert,i),P((s?c({class:"uk-alert-close",dataUkClose:!0},"a",!0):"")+P(e,k(e)?"":"p"),r,"div")}}function I(e){if(void 0!==e){var n=t.isString(e)?{icon:e.replace("uk-","")}:e;if(t.isPlainObject(n)){for(var i="dataUkIcon",s={},r="span",a=1;a<arguments.length;a++){var o=arguments[a];t.isNumeric(o)?n.ratio=t.toNumber(o):t.isString(o)?t.startsWith(t.hyphenate(o),"data-uk")?i=o:r=o:t.isArray(o)?s.class=o:t.isPlainObject(o)&&(s=t.assign(s,o))}return s[i]=n,c(s,r,!0)}}}function T(e){if(void 0!==e&&(t.isString(e)&&(e={message:e}),t.isPlainObject(e))){for(var n=1;n<arguments.length;n++){var i=arguments[n];t.isNumeric(i)?e.timeout=t.toNumber(i):t.isString(i)?i.includes("-")?e.pos=i:e.status=i:t.isPlainObject(i)&&(e=t.assign(i,e))}t.isUndefined(e.message)||UIkit.notification(t.assign({},R.options.ukNotification,e))}}function x(){for(var t=[{},"dataUkSpinner"],e=0;e<arguments.length;e++)t.push(arguments[e]);return I.apply(null,t)}function P(e,n,i){if(C("nb.wrap"),(void 0===n||!n)&&void 0===i)return e;if((t.isArray(n)||t.isPlainObject(n))&&(n=c(n,i)),t.isString(n)&&(t.startsWith(n,"uk-")||t.startsWith(n,"nb-"))&&(n="<div class='"+n+"'>"),n=j(n),t.isArray(e)){var s=n.split(">")[0].replace("<","");e=e.join("</"+s.split(" ")[0]+"><"+s+">")}var r;return t.includes(n,"></")&&!/=['|\"][^']+(><\/)[^']+['|\"]/.test(n)?(r=n.split("></"),n=r[0]+">"+e+"</"+r.splice(1).join("></")):(r=n.split(">",2),n=2==r.length?n+e+"</"+r[0].split(" ")[0].replace(/</gi,"")+">":e),A("nb.wrap"),n}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var U=function(t){if("function"==typeof FormData&&"entries"in FormData.prototype)return Array.from(new FormData(t).entries());for(var e=[],n=t.elements,i=0;i<n.length;i++){var s=n[i],r=s.tagName.toUpperCase();if("SELECT"===r||"TEXTAREA"===r||"INPUT"===r){var a=s.type,o=s.name;if(o&&!s.disabled&&"submit"!==a&&"reset"!==a&&"button"!==a&&("radio"!==a&&"checkbox"!==a||s.checked))if("SELECT"===r)for(var l=s.getElementsByTagName("option"),c=0;c<l.length;c++){var u=l[c];u.selected&&e.push([o,u.value])}else"file"===a?e.push([o,""]):e.push([o,s.value])}}return e},D={args:"text",props:["text"],beforeConnect:function(){C("nbObfuscate.beforeConnect");var e=h(this.text),n=e;if(t.isPlainObject(e))for(var i in n=e.text,e)"text"!==i&&("href"!=i||n||(n=e[i]),t.attr(this.$el,i,u(e[i])));this.$el.innerHTML=n,t.removeAttr(this.$el,"data-"+this.$name),A("nbObfuscate.beforeConnect")}},q={args:"msgConfirm",props:["msgConfirm"],data:{button:null,buttonText:"",captcha:null,response:"",scroller:null,status:0},beforeConnect:function(){C("nbForm.beforeConnect");var e=this.$el,n=t.$("input[type=hidden]._post_token",e);n&&b("{CSRF {tokenName tokenValue}}").then(function(e){if(200==e.status){var i=e.response.CSRF;t.attr(n,"name",i.tokenName),t.attr(n,"value",i.tokenValue)}},t.noop),this.conditionals("show"),this.conditionals("required"),this.scroller=t.$(c({hidden:!0},"div",!0)),t.append(e,this.scroller),A("nbForm.beforeConnect")},connected:function(){C("nbForm.connected");var e=this.$el;setTimeout(function(){t.trigger(e,"onload",this),A("nbForm.connected")},z)},events:{submit:function(e){C("nbForm.events.submit"),e.preventDefault(),e.stopPropagation();var n=this.$el,i=[],s=a("nb-form-errors",n);if(s&&t.remove(s),t.$$("input[required], select[required], textarea[required]",n).forEach(function(e){t.attr(e,"aria-invalid",!1),t.remove(r("nb-form-error",e.closest(".nb-form-content")))}),t.$$("input[required], select[required], textarea[required]",n).forEach(function(e){if(!e.validity.valid){t.attr(e,"aria-invalid",!0);var s=t.attr(e,"title");s||(s=e.validationMessage);var r=e.id,a=r?t.$("label[for="+r+"]",n):null;s=O(s),i.push($("#"+(r||n.id),(a?a.innerHTML+": ":"")+s,{class:"uk-link-reset",dataUkScroll:{duration:R.options.speed,offset:R.options.offset}}));var o=P(I("warning",.75)+" "+s,"uk-text-danger nb-form-error"),l=t.$("[role=alert]",e.closest(".nb-form-content"));l?t.append(l,o):t.before(e,o)}}),i.length)return t.trigger(n,"invalid",this),this.reset(),t.before(r("uk-grid",n),N(P(P(i,"li"),"ul"),"danger",["nb-form-errors"])),UIkit.scroll(this.scroller,{duration:R.options.speed,offset:R.options.offset}).scrollTo(n),t.on(".nb-form-errors a[href^='#']","click",function(e){t.$(t.attr(this,"href")).focus()}),!1;if(this.button=t.$("button[type=submit]",n),this.msgConfirm){var o=this;UIkit.modal.confirm(this.msgConfirm).then(function(){o.send()},function(){return!1})}else this.send();A("nbForm.events.submit")}},methods:{complete:function(){var e=this.$el,n=this.response;if(t.trigger(e,"complete",this),t.isPlainObject(n)){if(n.notification&&T(n.notification),"redirect"in n)return n.redirect&&(t.isString(n.redirect)?window.location.href=n.redirect:window.location.reload()),void this.reset();n=n.message}if(t.remove(this.button),this.captcha&&t.remove(this.captcha),t.$$("input, select, textarea",e).forEach(function(e){t.attr(e,"disabled",!0)}),n){var i=r("uk-grid",e);t.before(i||e,N(n,this.status)),UIkit.scroll(this.scroller,{duration:R.options.speed,offset:R.options.offset}).scrollTo(e)}},conditional:function(e,n,i){var s=!1;switch(n){case"=":s=e==i;break;case"!=":s=e!=i;break;case">":s=e>i;break;case"<":s=e<i;break;case">=":s=e>=i;break;case"<=":s=e<=i;break;case"*=":case"%=":s=t.includes(e,i)}return s},conditionals:function(e){var n=this,i=this.$el,s=t.$$("[data-"+e+"-if]",i);if(s.length){var r=[],a=[];s.forEach(function(n){for(var i={inputfield:n,inputs:[],conditions:[]},s=t.data(n,e+"-if").match(/(^|,)([^,]+)/g),o=0;o<s.length;o++){var l=s[o].match(/^[,\s]*([_.|a-zA-Z0-9]+)(=|!=|<=|>=|<|>|%=)([^,]+),?$/);if(l){for(var c=l[1],u=l[2],h=l[3],d=t.includes(c,"|")?c.split("|"):[c],f=t.includes(h,"|")?h.split("|"):[h],p=0;p<f.length;p++)f[p]=f[p].replace(/^('|")|('|")$/g,"");i.inputs=i.inputs.concat(d),a=a.concat(d),i.conditions.push({fields:d,operator:u,values:f})}}r.push(i)}),t.on(document,"UIkit_initialized",function(){for(var s=0;s<a.length;s++){var o=a[s],l=t.$$("[name="+o+"]",i);l.length||(l=t.$$("[name='"+o+"[]']",i)),l.length&&(t.on(l,"change",function(){for(var s=0;s<r.length;s++){var a=r[s];if(t.includes(a.inputs,this.name.replace("[]",""))){for(var o=0,l=a.conditions.length,c=0;c<l;c++)for(var u=a.conditions[c],h=u.fields,d=u.operator,f=u.values,p=0;p<h.length;p++){var g=h[p];if(1==($=t.$$("[name="+g+"]",i)).length)for(var v=$[0],b=0;b<f.length;b++){var m=f[b];"checkbox"==v.type?n.conditional(v.checked?v.value:0,d,m)&&o++:n.conditional(v.value,d,m)&&o++}else if($.length>1){var k=!1;$.forEach(function(t){if(t.checked){k=!0;for(var e=0;e<f.length;e++)n.conditional(t.value,d,f[e])&&o++}}),!k&&n.conditional("",d,f[b])&&o++}else{var $;if(($=t.$$("[name='"+g+"[]']")).length){var y=[];$.forEach(function(t){if("checkbox"==t.type)t.checked&&y.push(t.value);else for(var e=t.options,n=0;n<e.length;n++){var i=e[n];i.selected&&y.push(i.value)}}),y.length||y.push("");for(var w=0,S=0;S<y.length;S++)for(b=0;b<f.length;b++)n.conditional(y[S],d,f[b])&&w++;w&&o++}}}var j=a.inputfield,C=o>=l;switch(e){case"show":j.style.display=C?"":"none";break;case"required":t[(C?"add":"remove")+"Class"](j,"nb-form-required"),t.$$("input, select, textarea",j).forEach(function(t){(t.offsetWidth>0||t.offsetHeight>0)&&(t.required=o)})}}}}),t.trigger(l,"change"))}})}},error:function(e,n){this.status=e,this.response=n,t.trigger(this.$el,"error",this),t.includes([401,412,500],e)?(this.reset(),UIkit.modal.alert(N(n,"danger"))):this.complete()},reset:function(){this.button&&t.html(this.button,this.buttonText),this.captcha&&grecaptcha.reset()},send:function(){C("nbForm.send");var e=this.$el,n=t.attr(e,"method");this.buttonText=t.html(this.button),t.html(this.button,x(.467)),this.captcha=r("g-recaptcha",e),t.trigger(e,"beforeSend",this);var i=this;l(e.action,{data:new FormData(e),method:n||"POST"}).then(function(t){i.status=t.status,i.response=t.response,t.response?i.complete():i.error(t.status,"Error"),A("nbForm.send")},function(t){i.error(t.status,t.response),A("nbForm.send")})}}},B={args:"renderData",props:{config:Object,clsMore:String,clsMoreButton:String,error:String,form:String,loadMore:String,message:String,noResults:String,query:String,render:String,renderData:String,variables:Object},data:{count:0,config:{},clsMore:"uk-text-center uk-margin-large-top",clsMoreButton:"uk-button-primary",error:"Error",errors:[],form:null,init:0,initQuery:!1,items:[],loadMore:"More",message:"",noResults:"",query:"",remaining:0,render:"renderItems",renderData:"",response:{},selectors:"",start:0,status:0,total:0,variables:{}},beforeConnect:function(){C("nbJson.beforeConnect");for(var e=["start","selectors"],n=0;n<e.length;n++){var i=e[n];this.variables[i]&&(this[i]=this.variables[i])}this.init=this.start,this.errors=[this.error],t.includes(this.clsMore,"nb-json-more")||(this.clsMore+=" nb-json-more"),t.includes(this.clsMoreButton,"uk-button-")&&!t.includes(this.clsMoreButton,"uk-button ")&&(this.clsMoreButton+=" uk-button");var s=this;this.form&&t.isUndefined(this._connected)&&t.on(this.form,"submit reset",function(e){var n=[];if("submit"==e.type){e.preventDefault(),e.stopPropagation();for(var i=U(this),r=0;r<i.length;r++){var a=i[r][1];if(a){var o=i[r][0],l="=",c=f(t.$("[name="+o+"]",this),"json-selectors");if(t.isPlainObject(c)){var u=c.values[a];for(var h in c.selectors)n.push(h+u[c.selectors[h]])}else t.includes(o,l)&&(l=""),n.push(o+l+a)}}}s.get(n.join(","))});var r=a("json-filter","[data]");r.length&&t.on(r,"click",function(e){e.preventDefault();var n=t.data(this,"json-filter");t.removeClass(r,"uk-active"),n&&t.addClass(this,"uk-active"),s.get(n)}),A("nbJson.beforeConnect")},connected:function(){C("nbJson.connected");var e=this.$el,n=this;if(t.on(e,"error",function(){t.html(e,N(n.errors,n.status))}),this.renderData)this.response=h(this.renderData),this.parse(),this.count&&(t.html(e,this.renderItems()),t.trigger(e,"render",this),t.trigger(e,"complete",this)),t.removeAttr(e,"data-"+this.$name),this.$destroy();else{var i=0;if(this.form)for(var s=t.$$("input, select, textarea",t.$(this.form)),r=0;r<s.length;r++)s[r].value&&i++;i?t.trigger(n.form,"submit"):this.request()}A("nbJson.connected")},events:[{name:"click",delegate:function(){return".nb-json-more button"},handler:function(t){this.request()}}],methods:{get:function(e){e=[e];this.selectors&&e.push(this.selectors),this.initQuery=!1,this.start=this.init,this.total=0,this.variables.selectors=e.join(","),this.variables.start=this.start,t.html(this.$el,""),this.request()},parse:function(){for(var e in this.response){var n=this.response[e];if(t.isArray(n)?(this.config.query=e,this.items=n,this.count=n.length):"getTotal"==e&&(this.total=n),this.count&&this.total)break}},renderItems:function(e){void 0===e&&(e=this.items);var n=window[this.render];return t.isFunction(n)&&t.isArray(e)?n.call(this,e):(this.status=500,"")},request:function(){C("nbJson.request");var e=this.$el,n=r("nb-json-more",e);this.count=0,this.remaining=0,t.remove(".uk-alert",e),n||(n=t.$(P(P(this.loadMore,{type:"button",class:this.clsMoreButton},"button"),this.clsMore)),t.append(e,n)),n.style.display="";var i=t.$("button",n);t.attr(i,"disabled",!0),t.html(i,t.html(i).replace(this.loadMore,x(.467))),this.variables.start=this.start,this.initQuery||(this.initQuery=!0,t.trigger(e,"initQuery",this));var s=this;b(this.query,this.variables).then(function(a){if(s.status=a.status,s.response=a.response,s.response){t.removeAttr(i,"disabled");var o=r("uk-spinner",i);if(o&&(t.before(o,s.loadMore),t.remove(o)),s.parse(),s.remaining=s.total?s.total-s.start-s.count:-1,s.message){var l=r("nb-json-message",e);l||(l=t.$(P("","nb-json-message uk-margin-top uk-margin-bottom")),t.prepend(e,l));var c=s.message.replace("{count}",s.count+s.start-s.init).replace("{total}",s.total-s.init);t.html(l,"jsonMessage"in window?jsonMessage(c):N(c,"primary"))}s.count?(t.before(n,s.renderItems()),t.trigger(e,"render",s)):(s.errors=[s.noResults],s.status=404,t.trigger(e,"error",s)),s.remaining<=0||!s.count||!s.loadMore?n.style.display="none":s.start=s.start+s.count,t.trigger(e,"complete",s)}else t.trigger(e,"error",s);A("nbJson.request")},function(n){s.status=n.status,s.errors=n.response,t.trigger(e,"error",s),A("nbJson.request")})}}},M={args:"breakpoint",props:{arrow:String,back:String,breakpoint:Number,toggle:String},data:{arrow:"chevron",active:void 0,back:"Back",breakpoint:960,clsBack:"back",clsDesktop:"desktop",clsDrop:"uk-navbar-dropdown",clsHidden:"uk-hidden",navbar:void 0,ns:"nb-nav",toggle:".uk-navbar-toggle",ukNavbar:{},ukNavbarToggle:{}},beforeConnect:function(){if(C("nbNav.beforeConnect"),this.clsBack=this.ns+"-"+this.clsBack,this.clsDesktop=this.ns+"-"+this.clsDesktop,this.navbar=this.$el.closest("[data-uk-navbar]"),!this.navbar)throw new Error("The UIkit Navbar component could not be found.");this.ukNavbar=t.parseOptions(t.data(this.navbar,"uk-navbar")),this.ukNavbarToggle={},this.toggle&&(this.toggle=r(this.toggle),this.toggle&&(this.ukNavbarToggle=t.parseOptions(t.data(this.toggle,"uk-toggle")))),A("nbNav.beforeConnect")},connected:function(){C("nbNav.connected");var e=this,n=this.$el.parentElement,i=this.ns+"-open",o="."+this.clsDrop;t.addClass(n,this.clsDesktop),this.dropdowns(),this.checkBreakpoint(),t.addClass(n,this.ns);var l=r(".uk-active > a[href='"+window.location.pathname+"']");this.active=l?l.closest(o):null,a(".uk-parent > a").forEach(function(n){t.on(n,"click",function(t){e.active=t.target.nextSibling})}),a(this.clsBack).forEach(function(n){t.on(n,"click",function(t){var n=t.target.closest(o);n&&(n=n.parentElement),e.active=n?n.closest(o):null})}),t.on(n,"beforeshow",function(r){if(!s&&r.target==n&&(t.addClass(t.$("body"),i),e.active)){var a=e.active,l=[];do{a&&l.push(a),a=(a=a.parentElement)?a.closest(o):null}while(a);l.reverse().forEach(function(t){t[UIkit.data].drop.show()})}}),t.on(n,"hide",function(e){t.removeClass(t.$("body"),i)}),a("uk-parent",this.$el).forEach(function(n){var i=t.$("a",n);i&&t.append(i,e.arrow("right"))}),t.on(window,"resize",$nb.debounce(function(){e.checkBreakpoint()},z)),A("nbNav.connected")},events:[{name:"switch",handler:function(e){C("nbNav.events.switch");var n=this.$el,i=this.navbar,o=n.parentElement,l=this.toggle,c=a("uk-drop","[data]",n),u=this.clsDesktop,h=this.ns+"-mobile",d=this.ns+"-title",f=this.clsBack,p=this.clsHidden;if(l){var v=t.attr(l,"href");v&&"#"!=v||(v=$nb.data(l,"uk-toggle").target),v&&(o=t.$(v))}if(s)t.hasClass(o,u)||(t.removeClass(o,h),t.addClass(o,u),t.removeAttr(o,"hidden",!0),c.length&&t.removeAttr(c,"hidden"),l&&t.attr(l,"hidden"),i&&(UIkit.navbar(i).$destroy(),UIkit.navbar(i,this.ukNavbar)),t.addClass(l,p),a("uk-navbar-dropdown-nav",n).forEach(function(e){t.remove(r(f)),t.remove(r(d))}));else if(!t.hasClass(o,h)){if(t.removeClass(o,u),t.addClass(o,h),t.attr(o,"hidden",!0),c.length&&t.attr(c,"hidden",!0),l&&t.removeAttr(l,"hidden"),i){var b=this.ukNavbar;UIkit.navbar(i).$destroy(),b.mode="click",b.animation=this.ukNavbarToggle.animation,UIkit.navbar(i,b)}t.removeClass(l,p);var m=this,k="."+this.clsDrop;a("uk-navbar-dropdown-nav",n).forEach(function(e){var n=g(e.closest(k),"a");t.prepend(e,P([$(t.attr(n,"href"),n.innerText||n.textContent,d),$({class:f,dataUkToggle:{animation:m.ukNavbarToggle.animation,cls:"uk-open",target:"#"+e.closest(k).id}},m.arrow("left")+m.back)],"li"))})}A("nbNav.events.switch")}}],methods:{arrow:function(t){return void 0===t&&(t="right"),this.arrow?k(this.arrow)?this.arrow:I(this.arrow+"-"+t):""},checkBreakpoint:function(){var e=s,n=window.innerWidth>this.breakpoint;s&&n?(t.$$("> li > a",this.$el).forEach(function(t){var e=document.createElement("div");e.style.position="absolute",e.style.left="-99in",e.style.whiteSpace="nowrap",e.style.font=window.getComputedStyle(t,null).getPropertyValue("font"),e.style.padding=window.getComputedStyle(t,null).getPropertyValue("padding"),e.innerHTML=t.textContent,document.body.appendChild(e);var n=e.clientWidth;document.body.removeChild(e),n>t.offsetWidth&&(s=!1)}),s||(this.breakpoint=window.innerWidth)):s=n,s!==e&&t.trigger(this.$el,"switch")},dropdowns:function(e){void 0===e&&(e=this.$el);var n=this;t.$$("> li > ul, > li > div",e).forEach(function(e){var i=[];if(n.$el.id?i.push(n.$el.id):n.$el.parentElement.id&&i.push(n.$el.parentElement.id),i.push(n.ns),t.hasAttr(e,"id"))i.push(t.attr(e,"id"));else{var s=e.previousElementSibling;s||(s=t.$("a",e.closest(".uk-parent")));var r=t.attr(s,"href");r&&"#"!==r?("/"==r.substr(0,1)&&(r=r.slice(1)),i.push(r.replace(/\//g,"-"))):i.push(t.hyphenate(s.textContent.replace(/\s/g,"")))}t.wrapAll(e,$nb.attr({id:i.join("_"),class:n.clsDrop},"div",!0)),t.addClass(e,"uk-navbar-dropdown-nav"),n.dropdowns(e)})}}},F={args:"cls",props:{active:Number,cls:String,clsActive:String,desc:Boolean,sort:Object,usDate:Boolean},data:{active:-1,cls:"",clsActive:"uk-active",clsSorter:"nb-table-sortable",desc:!1,evaluate:20,headers:[],sort:{},usDate:!1},beforeConnect:function(){C("nbTable.beforeConnect");var e=t.$$("thead tr");e.length&&!t.isIE||(this.sort=!1);var n=this.cls?this.cls.split(" "):[];if(n.length&&!t.includes(this.cls,"uk-table-")||n.push("uk-table"),n.push("nb-table"),this.sort&&n.push("nb-table-sort"),t.addClass(this.$el,n.join(" ")),t.hasClass(this.$el.parentElement,"uk-overflow-auto")||t.wrapAll(this.$el,"<div class='uk-overflow-auto'>"),this.sort){t.isPlainObject(this.sort)||(this.sort={});for(var i=t.$$("th",e[e.length-1]),s=0;s<i.length;s++)this.headers.push({$el:i[s],sort:!1});var r=t.$$("tbody tr"),a=r.length;if(a>this.evaluate){var o=a.toString().length;this.evaluate=this.evaluate*o,(a=Math.round(a/o))>this.evaluate&&(a=this.evaluate)}for(s=0;s<this.headers.length;s++){var l=s in this.sort?this.sort[s]:0;if(!1!==l){if(t.isFunction(l))this.headers[s].sort=l;else if(t.isString(l)){var c=["string","number","currency","percent","date"].indexOf(l);c>0?this.headers[s].sort=c:l in window&&(this.headers[s].sort=window[l])}else{for(var u=0;u<a;u++){var h=t.$$("td",r[u])[s].innerHTML,d=h.replace(/(,|\.|%)/g,"");t.isNumeric(h)||t.isNumeric(d)?l++:t.isNumeric(d.substr(1))?(l++,l++):2==(h.match(/\//g)||[]).length&&p(h,this.usDate)?(l++,l++,l++,l++,l++):Date.parse(h)&&(l++,l++,l++,l++)}this.headers[s].sort=l?l/a:0}t.addClass(this.headers[s].$el,this.clsSorter)}}}A("nbTable.beforeConnect")},connected:function(){if(C("nbTable.connected"),this.sort&&this.active>=0){var e=this.headers[this.active].$el;e&&t.trigger(e,"click")}A("nbTable.connected")},events:[{name:"click",delegate:function(){return"."+this.clsSorter},handler:function(e){if(C("nbTable.events.click"),this.sort){var n=this,i=this.$el,s=t.$("tbody",i),r=t.$$("tr",s),a=e.target,o=a.cellIndex,l=this.clsActive,c=this.desc?!t.hasClass(a,"desc")||!t.attr(a,"class"):t.hasClass(a,"asc");t.removeClass(t.$$("td, th",i),l),t.removeClass(t.$$("th",i),"desc","asc"),c?t.addClass(a,"desc"):t.addClass(a,"asc"),t.addClass(a,l),r.forEach(function(e){t.addClass(t.$$("td",e)[o],l)});var u=n.headers[o].sort;r.sort(function(e,i){if(e=t.$$("td",e)[o].innerText,i=t.$$("td",i)[o].innerText,t.isFunction(u))return u(e,i,c);switch(2==u&&(e=e.substr(1),i=i.substr(1)),u){case 0:e=e.toLowerCase(),i=i.toLowerCase();break;case 1:case 2:case 3:e=parseFloat(e.replace(/(,|%)/g,"")),i=parseFloat(i.replace(/(,|%)/g,""));break;case 5:e=new Date(p(e,n.usDate)).getTime(),i=new Date(p(i,n.usDate)).getTime();break;case 4:e=new Date(e).getTime(),i=new Date(i).getTime()}return c?e<i?1:-1:e>i?1:-1}),t.html(s,r)}A("nbTable.events.click")}}]},J={props:{name:String,off:String,on:String},data:{callbacks:{}},connected:function(){t.addClass(this.$el,"nb-cookie-setting"),t.append(this.$el,this.renderInput()+this.renderInput(!0))},events:[{name:"change",delegate:function(){return"input[type='radio']"},handler:function(t){var e=this,n=t.target.name;d(n,t.target.value),n in this.callbacks&&this.callbacks[n].forEach(function(t){t.call(e,i.settings[n])})}}],methods:{renderInput:function(t){var e=t?1:0;return P(P(c({type:"radio",name:this.name,id:[this.name,e].join("_"),class:"uk-radio",value:""+e,checked:this.name in i.settings&&i.settings[this.name]==e},"input")+P(this[t?"on":"off"],"span"),"label"),"div")}}};UIkit.component("nbObfuscate",D),UIkit.component("nbForm",q),UIkit.component("nbJson",B),UIkit.component("nbNav",M),UIkit.component("nbTable",F),UIkit.component("nbCookieSetting",J);var R=function(){},z=256;return R.options={graphql:"/graphql",offset:128,duration:z,ukAlert:{animation:!0,duration:z},ukNotification:{status:"primary",pos:"top-right",timeout:16*z}},R.util=Object.freeze({$:r,$$:a,ajax:l,attr:c,attrValue:u,base64_decode:h,base64_encode:function(e,n){return void 0===n&&(n=""),t.isArray(e)&&(e=e.join(n)),t.isPlainObject(e)&&(e=JSON.stringify(e)),btoa(e)},cookieConsent:d,data:f,debounce:function(t,e,n){var i;return void 0===e&&(e=R.options.duration),function(){var s=this,r=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(s,r)},e),a&&t.apply(s,r)}},formDataEntries:U,getPreviousSibling:g,getRequestResponse:v,graphql:b,hasStorage:n,img:m,imgBg:function(e,n,i){return t.isPlainObject(n)||(n={}),t.isPlainObject(i)||(i={}),m(e,n=t.assign({alt:!1,class:"uk-background-cover"},n),i=t.assign({tag:"div",focus:!0},i))},isTag:k,link:$,loadAssets:function(n){for(var i=[],s=0;s<n.length;s++){var r=n[s];i.push("js"==(t.isPlainObject(r)?r.src?r.src:r.href?r.href:"":r).substr(-2)?w(r):S(r))}return e.all(i)},loadStyle:S,loadScript:w,makeTag:j,post:function(e,n){var i;if(t.isPlainObject(n))for(var s in i=new FormData,n)i.append(s,n[s]);else i=new FormData(n);return l(e,{data:i,method:"POST"})},profilerStart:C,profilerStop:A,punctuateString:O,queryString:function(t){return"?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")},setOption:E,ukAlert:N,ukIcon:I,ukNotification:T,ukSpinner:x,ukWidths:function(e,n){for(var i={},s=["s","m","l","xl"],r=0;r<s.length;r++)i[s[r]]=t.toNumber(t.getCssVar("breakpoint-"+s[r]).replace("px",""));if(void 0===e)return i;void 0===n&&(n=!0);var a="uk-"+(n?"child-":"")+"width-1-";for(s=[],r=0;r<e.length;r++){var o=e[r];if(-1!==o.indexOf(a)){var l=-1!==o.indexOf("@")?o.split("@")[1]:0,c=100/parseInt(o.replace(a,""));s.push((l&&l in i?"(min-width: "+i[l]+"px) ":"")+c.toFixed(2)+"vw")}}return s},wrap:P}),function(e){if(C("nb.init"),t.hasAttr(t.$("html"),"data-nb-cookie"))if(i=f(t.$("html"),"nb-cookie",!0),n){var s=!1,r=localStorage.getItem("nbCookie");if(r)try{i.settings=JSON.parse(r),s=!0}catch(t){}s||l(i.url).then(function(e){if(200==e.status){var n=z*z;setTimeout(function(){d(!1)},n-256),UIkit.notification({message:i.message,timeout:n,clsContainer:"nb-cookie uk-notification"}),t.once(t.$(".all"),"click",function(){d(!0)}),t.once(t.$(".set"),"click",function(){d(!1),window.location.href.split("#")[0]==i.url?window.location.href=i.id:UIkit.modal.dialog(P(P(e.response.title,"h2")+c({type:"button",class:"uk-modal-close-default",dataUkClose:!0},"button",!0),"uk-modal-header")+P(e.response.body,"uk-modal-body"))})}else d(!1)},function(t){d(!1)})}else d(!1);t.ready(function(){var e=setInterval(function(){UIkit._initialized&&(t.trigger(document,"UIkit_initialized"),clearInterval(e))},z),n=t.$("header");n&&E("offset",n.offsetHeight+32);var i=t.$$("a[target=_blank]");if(i){var s=["noopener"];i.forEach(function(e){var n=t.attr(e,"rel");n=t.isString(n)?n.split(" "):[];for(var i=0;i<s.length;i++)n.indexOf(s[i])<0&&n.push(s[i]);t.attr(e,"rel",n.join(" "))})}A("nb.init")})}(),R});var $uk=UIkit.util,$nb=NB.util;
